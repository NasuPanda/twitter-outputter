// 消去されていない場合を考慮して実行前に空にしておく
$("#alert-message").empty()

<% if @error_messages.blank? %>
  $("#<%= tag_id(@tag) %>").replaceWith("<%= j(render('pages/homes/tag', tag: @tag)) %>");
  $("#<%= tagged_tag_id(@tag) %>").replaceWith("<%= j(render('pages/homes/tagged_tag', tagged_tag: @tag)) %>");
  $("#modal-container").modal("hide");
  $("#alert-message").append("<%= j(render('shared/flash_success',message: "タグの更新に成功しました。" )) %>");
<% else  %>
  alert("<%= join_words_with_newline(@error_messages) %>");
<% end %>

// 約5秒後に消去する
setTimeout(() => {
  $("#alert-message").empty()
}, 5000);
