// 消去されていない場合を考慮して実行前に空にしておく
$("#alert-message").empty()

<% if @error_messages.blank? %>
  $("#<%= post_id(@draft) %>").remove();
  <% if @action == 'published' %>
    $("#alert-message").append("<%= j(render('shared/flash_success', message: "投稿に成功しました。" )) %>");
  <% end %>
<% else %>
  $("#alert-message").append("<%= j(render('shared/flash_danger', messages: @error_messages )) %>");
<% end %>

// 約5秒後に消去する
setTimeout(() => {
  $("#alert-message").empty()
}, 5000);
