// 実行前に空にしておく
$("#alert-message").empty()

<% if @error_messages.blank? %>
  // 成功した場合はクリアする
  $("#editing-post-content").val("");
  // NOTE: valによる変更ではinputイベントが発火しないので明示的に発火させる
  document.getElementById("editing-post-content").dispatchEvent(new Event("input"));
  $("#alert-message").append("<%= j(render('shared/flash_success', message: "下書きの保存に成功しました。" )) %>");
<% else %>
  $("#alert-message").append("<%= j(render('shared/flash_dangers', messages: @error_messages )) %>");
<% end %>
